<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>fsautoproc: src/fl.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">fsautoproc
   </div>
   <div id="projectbrief">Basic file transformation automation management utility</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('fl_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">fl.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Basic file lock implementation.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="fl_8h_source.html">fl.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;sys/file.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for fl.c:</div>
<div class="dyncontent">
<div class="center"><img src="fl_8c__incl.png" border="0" usemap="#asrc_2fl_8c" alt=""/></div>
<map name="asrc_2fl_8c" id="asrc_2fl_8c">
<area shape="rect" title="Basic file lock implementation." alt="" coords="201,5,262,31"/>
<area shape="rect" href="fl_8h.html" title="Basic file lock API." alt="" coords="5,79,45,105"/>
<area shape="poly" title=" " alt="" coords="201,32,60,80,58,75,200,27"/>
<area shape="rect" title=" " alt="" coords="68,79,136,105"/>
<area shape="poly" title=" " alt="" coords="211,34,139,73,136,69,208,29"/>
<area shape="rect" title=" " alt="" coords="160,79,218,105"/>
<area shape="poly" title=" " alt="" coords="227,33,206,67,202,64,222,30"/>
<area shape="rect" title=" " alt="" coords="242,79,310,105"/>
<area shape="poly" title=" " alt="" coords="241,30,262,64,258,67,237,33"/>
<area shape="rect" title=" " alt="" coords="334,79,409,105"/>
<area shape="poly" title=" " alt="" coords="257,29,336,69,333,74,254,34"/>
<area shape="rect" title=" " alt="" coords="433,79,500,105"/>
<area shape="poly" title=" " alt="" coords="264,26,419,73,417,78,262,31"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ac8cdc36ad1f74a8dd0b80ee85356bc01" id="r_ac8cdc36ad1f74a8dd0b80ee85356bc01"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8cdc36ad1f74a8dd0b80ee85356bc01">flopen</a> (struct <a class="el" href="structflock__s.html">flock_s</a> *fl)</td></tr>
<tr class="memdesc:ac8cdc36ad1f74a8dd0b80ee85356bc01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens the file at the given path and updates the file lock structure with the file descriptor. If the file is already open, the file descriptor is not updated and the function will return successfully. If the file cannot be opened, the error code is returned via the file lock structure.  <br /></td></tr>
<tr class="separator:ac8cdc36ad1f74a8dd0b80ee85356bc01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00b62bc8baa9dd0647aa066b870a0386" id="r_a00b62bc8baa9dd0647aa066b870a0386"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a00b62bc8baa9dd0647aa066b870a0386">fllock</a> (struct <a class="el" href="structflock__s.html">flock_s</a> *fl)</td></tr>
<tr class="memdesc:a00b62bc8baa9dd0647aa066b870a0386"><td class="mdescLeft">&#160;</td><td class="mdescRight">Locks the file at the given path. If a file descriptor cannot be obtained, or the file cannot be locked, an error code is returned.  <br /></td></tr>
<tr class="separator:a00b62bc8baa9dd0647aa066b870a0386"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9edee5332ff921081fe39fc530d40bd" id="r_af9edee5332ff921081fe39fc530d40bd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9edee5332ff921081fe39fc530d40bd">flunlock</a> (struct <a class="el" href="structflock__s.html">flock_s</a> *fl)</td></tr>
<tr class="memdesc:af9edee5332ff921081fe39fc530d40bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unlocks the file at the given path. If the file is not open, or the file cannot be unlocked, an error code is returned.  <br /></td></tr>
<tr class="separator:af9edee5332ff921081fe39fc530d40bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Basic file lock implementation. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a00b62bc8baa9dd0647aa066b870a0386" name="a00b62bc8baa9dd0647aa066b870a0386"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00b62bc8baa9dd0647aa066b870a0386">&#9670;&#160;</a></span>fllock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int fllock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structflock__s.html">flock_s</a> *</td>          <td class="paramname"><span class="paramname"><em>fl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Locks the file at the given path. If a file descriptor cannot be obtained, or the file cannot be locked, an error code is returned. </p>
<dl class="section note"><dt>Note</dt><dd>The lock must be initialized with <code><a class="el" href="fl_8h.html#a56bf97e54eecd6305ff10a4c2f64b725" title="Initializes a unlocked, ready-to-use file lock structure with the given target lock file path....">flinit()</a></code> before calling <code>fllock</code>. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fl</td><td>The file lock structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise a non-zero error code. </dd></dl>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fl_8c_a00b62bc8baa9dd0647aa066b870a0386_cgraph.png" border="0" usemap="#afl_8c_a00b62bc8baa9dd0647aa066b870a0386_cgraph" alt=""/></div>
<map name="afl_8c_a00b62bc8baa9dd0647aa066b870a0386_cgraph" id="afl_8c_a00b62bc8baa9dd0647aa066b870a0386_cgraph">
<area shape="rect" title="Locks the file at the given path. If a file descriptor cannot be obtained, or the file cannot be lock..." alt="" coords="5,5,58,31"/>
<area shape="rect" href="fl_8c.html#ac8cdc36ad1f74a8dd0b80ee85356bc01" title="Opens the file at the given path and updates the file lock structure with the file descriptor...." alt="" coords="106,5,162,31"/>
<area shape="poly" title=" " alt="" coords="58,16,90,16,90,21,58,21"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fl_8c_a00b62bc8baa9dd0647aa066b870a0386_icgraph.png" border="0" usemap="#afl_8c_a00b62bc8baa9dd0647aa066b870a0386_icgraph" alt=""/></div>
<map name="afl_8c_a00b62bc8baa9dd0647aa066b870a0386_icgraph" id="afl_8c_a00b62bc8baa9dd0647aa066b870a0386_icgraph">
<area shape="rect" title="Locks the file at the given path. If a file descriptor cannot be obtained, or the file cannot be lock..." alt="" coords="103,5,155,31"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main program entry point." alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="ac8cdc36ad1f74a8dd0b80ee85356bc01" name="ac8cdc36ad1f74a8dd0b80ee85356bc01"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8cdc36ad1f74a8dd0b80ee85356bc01">&#9670;&#160;</a></span>flopen()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int flopen </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structflock__s.html">flock_s</a> *</td>          <td class="paramname"><span class="paramname"><em>fl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Opens the file at the given path and updates the file lock structure with the file descriptor. If the file is already open, the file descriptor is not updated and the function will return successfully. If the file cannot be opened, the error code is returned via the file lock structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fl</td><td>The file lock structure to update. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise a non-zero error code. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fl_8c_ac8cdc36ad1f74a8dd0b80ee85356bc01_icgraph.png" border="0" usemap="#afl_8c_ac8cdc36ad1f74a8dd0b80ee85356bc01_icgraph" alt=""/></div>
<map name="afl_8c_ac8cdc36ad1f74a8dd0b80ee85356bc01_icgraph" id="afl_8c_ac8cdc36ad1f74a8dd0b80ee85356bc01_icgraph">
<area shape="rect" title="Opens the file at the given path and updates the file lock structure with the file descriptor...." alt="" coords="203,5,259,31"/>
<area shape="rect" href="fl_8c.html#a00b62bc8baa9dd0647aa066b870a0386" title="Locks the file at the given path. If a file descriptor cannot be obtained, or the file cannot be lock..." alt="" coords="103,5,155,31"/>
<area shape="poly" title=" " alt="" coords="187,21,156,21,156,16,187,16"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main program entry point." alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
<a id="af9edee5332ff921081fe39fc530d40bd" name="af9edee5332ff921081fe39fc530d40bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9edee5332ff921081fe39fc530d40bd">&#9670;&#160;</a></span>flunlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int flunlock </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structflock__s.html">flock_s</a> *</td>          <td class="paramname"><span class="paramname"><em>fl</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Unlocks the file at the given path. If the file is not open, or the file cannot be unlocked, an error code is returned. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fl</td><td>The file lock structure. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if successful, otherwise a non-zero error code. </dd></dl>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="fl_8c_af9edee5332ff921081fe39fc530d40bd_icgraph.png" border="0" usemap="#afl_8c_af9edee5332ff921081fe39fc530d40bd_icgraph" alt=""/></div>
<map name="afl_8c_af9edee5332ff921081fe39fc530d40bd_icgraph" id="afl_8c_af9edee5332ff921081fe39fc530d40bd_icgraph">
<area shape="rect" title="Unlocks the file at the given path. If the file is not open, or the file cannot be unlocked,..." alt="" coords="207,5,273,31"/>
<area shape="rect" href="main_8c.html#ae3bfc4f47abe250845ff9d33361e8088" title="Frees all allocated resources." alt="" coords="103,5,159,31"/>
<area shape="poly" title=" " alt="" coords="192,21,159,21,159,16,192,16"/>
<area shape="rect" href="main_8c.html#a3c04138a5bfe5d72780bb7e82a18e627" title="Main program entry point." alt="" coords="5,5,55,31"/>
<area shape="poly" title=" " alt="" coords="87,21,55,21,55,16,87,16"/>
</map>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="fl_8c.html">fl.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0 </li>
  </ul>
</div>
</body>
</html>
